# Sparql queries go here

queries:
    -   name: "Writers"
        description: "%NAME% was born on %DATE%."
        discovery_map:
            - name
            - creator
        query: |
            PREFIX ont: <http://dbpedia.org/ontology/>
            SELECT DISTINCT ?entity ?date ?name
            WHERE {
              ?entity ont:birthDate ?date .
              ?entity a dbpedia-owl:Writer .
              ?entity foaf:name ?name
              FILTER(
                ( ( datatype(?date) = xsd:date ) || ( datatype(?date) = xsd:dateTime ) ) &&
                ( str(?date) <= "%TODAY%" ) &&
                ( regex(str(?date), "[0-9]{4}-%MONTH%-%DAY%") )&&
                (LANG(?name) = "" || LANGMATCHES(LANG(?name), "en"))
              )
            }
            LIMIT 3
    -   name: "Athletes"
        description: "%NAME% was born on %DATE%."
        discovery_map:
            - name
            - creator
        query: |
            PREFIX ont: <http://dbpedia.org/ontology/>
            SELECT DISTINCT ?entity ?name ?date
             WHERE {
              ?entity ont:birthDate ?date .
              ?entity a dbpedia-owl:Athlete .
              ?entity foaf:name ?name
              FILTER(
                ( ( datatype(?date) = xsd:date ) || ( datatype(?date) = xsd:dateTime ) ) &&
                ( str(?date) <= "%TODAY%" ) &&
                ( regex(str(?date), "[0-9]{4}-%MONTH%-%DAY%") )&&
                (LANG(?name) = "" || LANGMATCHES(LANG(?name), "en"))
              )
            }
            LIMIT 3
